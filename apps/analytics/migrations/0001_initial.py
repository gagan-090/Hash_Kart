# Generated by Django 5.1.4 on 2025-08-04 08:01

import django.db.models.deletion
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('products', '0001_initial'),
        ('vendors', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='BusinessAnalytics',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(unique=True)),
                ('total_revenue', models.DecimalField(decimal_places=2, default=0.0, max_digits=12)),
                ('net_revenue', models.DecimalField(decimal_places=2, default=0.0, max_digits=12)),
                ('commission_earned', models.DecimalField(decimal_places=2, default=0.0, max_digits=12)),
                ('refunded_amount', models.DecimalField(decimal_places=2, default=0.0, max_digits=12)),
                ('total_orders', models.PositiveIntegerField(default=0)),
                ('completed_orders', models.PositiveIntegerField(default=0)),
                ('cancelled_orders', models.PositiveIntegerField(default=0)),
                ('pending_orders', models.PositiveIntegerField(default=0)),
                ('new_customers', models.PositiveIntegerField(default=0)),
                ('returning_customers', models.PositiveIntegerField(default=0)),
                ('active_customers', models.PositiveIntegerField(default=0)),
                ('products_sold', models.PositiveIntegerField(default=0)),
                ('new_products_added', models.PositiveIntegerField(default=0)),
                ('out_of_stock_products', models.PositiveIntegerField(default=0)),
                ('active_vendors', models.PositiveIntegerField(default=0)),
                ('new_vendors', models.PositiveIntegerField(default=0)),
                ('vendor_sales_volume', models.DecimalField(decimal_places=2, default=0.0, max_digits=12)),
                ('website_visits', models.PositiveIntegerField(default=0)),
                ('unique_visitors', models.PositiveIntegerField(default=0)),
                ('page_views', models.PositiveIntegerField(default=0)),
                ('conversion_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('average_order_value', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('customer_acquisition_cost', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('customer_lifetime_value', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'business_analytics',
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='SystemMetrics',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('timestamp', models.DateTimeField(auto_now_add=True)),
                ('response_time_avg', models.DecimalField(decimal_places=2, default=0.0, max_digits=8)),
                ('response_time_95th', models.DecimalField(decimal_places=2, default=0.0, max_digits=8)),
                ('error_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('active_users', models.PositiveIntegerField(default=0)),
                ('concurrent_sessions', models.PositiveIntegerField(default=0)),
                ('api_requests_per_minute', models.PositiveIntegerField(default=0)),
                ('cpu_usage', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('memory_usage', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('disk_usage', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('db_connections', models.PositiveIntegerField(default=0)),
                ('db_query_time_avg', models.DecimalField(decimal_places=2, default=0.0, max_digits=8)),
                ('daily_revenue', models.DecimalField(decimal_places=2, default=0.0, max_digits=12)),
                ('daily_orders', models.PositiveIntegerField(default=0)),
            ],
            options={
                'db_table': 'system_metrics',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='ABTestExperiment',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField()),
                ('hypothesis', models.TextField()),
                ('success_metric', models.CharField(max_length=100)),
                ('target_page', models.CharField(blank=True, max_length=255)),
                ('traffic_percentage', models.DecimalField(decimal_places=2, default=50.0, max_digits=5)),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('running', 'Running'), ('paused', 'Paused'), ('completed', 'Completed'), ('cancelled', 'Cancelled')], default='draft', max_length=20)),
                ('start_date', models.DateTimeField(blank=True, null=True)),
                ('end_date', models.DateTimeField(blank=True, null=True)),
                ('variant_a_conversions', models.PositiveIntegerField(default=0)),
                ('variant_b_conversions', models.PositiveIntegerField(default=0)),
                ('variant_a_visitors', models.PositiveIntegerField(default=0)),
                ('variant_b_visitors', models.PositiveIntegerField(default=0)),
                ('statistical_significance', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('confidence_level', models.DecimalField(decimal_places=2, default=95.0, max_digits=5)),
                ('experiment_config', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'ab_test_experiments',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='AnalyticsReport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=255)),
                ('report_type', models.CharField(choices=[('sales', 'Sales Report'), ('customers', 'Customer Report'), ('products', 'Product Report'), ('vendors', 'Vendor Report'), ('marketing', 'Marketing Report'), ('inventory', 'Inventory Report'), ('financial', 'Financial Report')], max_length=50)),
                ('frequency', models.CharField(choices=[('daily', 'Daily'), ('weekly', 'Weekly'), ('monthly', 'Monthly'), ('quarterly', 'Quarterly')], max_length=20)),
                ('filters', models.JSONField(blank=True, default=dict)),
                ('metrics', models.JSONField(blank=True, default=list)),
                ('email_recipients', models.JSONField(blank=True, default=list)),
                ('is_active', models.BooleanField(default=True)),
                ('last_generated', models.DateTimeField(blank=True, null=True)),
                ('next_generation', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'analytics_reports',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='RevenueForecast',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('forecast_type', models.CharField(choices=[('daily', 'Daily'), ('weekly', 'Weekly'), ('monthly', 'Monthly'), ('quarterly', 'Quarterly'), ('yearly', 'Yearly')], max_length=20)),
                ('predicted_revenue', models.DecimalField(decimal_places=2, max_digits=12)),
                ('predicted_orders', models.PositiveIntegerField()),
                ('confidence_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('actual_revenue', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('actual_orders', models.PositiveIntegerField(blank=True, null=True)),
                ('accuracy_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('model_version', models.CharField(default='v1.0', max_length=50)),
                ('training_data_period', models.CharField(blank=True, max_length=100)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'revenue_forecasts',
                'ordering': ['-date'],
                'unique_together': {('date', 'forecast_type')},
            },
        ),
        migrations.CreateModel(
            name='SearchAnalytics',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('search_term', models.CharField(max_length=255)),
                ('search_count', models.PositiveIntegerField(default=0)),
                ('unique_searches', models.PositiveIntegerField(default=0)),
                ('results_count', models.PositiveIntegerField(default=0)),
                ('clicks', models.PositiveIntegerField(default=0)),
                ('conversions', models.PositiveIntegerField(default=0)),
                ('click_through_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('conversion_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('no_results', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'search_analytics',
                'ordering': ['-date', '-search_count'],
                'unique_together': {('date', 'search_term')},
            },
        ),
        migrations.CreateModel(
            name='CategoryAnalytics',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('total_sales', models.DecimalField(decimal_places=2, default=0.0, max_digits=12)),
                ('units_sold', models.PositiveIntegerField(default=0)),
                ('orders_count', models.PositiveIntegerField(default=0)),
                ('total_products', models.PositiveIntegerField(default=0)),
                ('active_products', models.PositiveIntegerField(default=0)),
                ('out_of_stock_products', models.PositiveIntegerField(default=0)),
                ('category_views', models.PositiveIntegerField(default=0)),
                ('unique_visitors', models.PositiveIntegerField(default=0)),
                ('bounce_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('conversion_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('average_product_rating', models.DecimalField(decimal_places=2, default=0.0, max_digits=3)),
                ('return_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='analytics', to='products.category')),
            ],
            options={
                'db_table': 'category_analytics',
                'ordering': ['-date'],
                'unique_together': {('category', 'date')},
            },
        ),
        migrations.CreateModel(
            name='CustomerAnalytics',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('orders_placed', models.PositiveIntegerField(default=0)),
                ('total_spent', models.DecimalField(decimal_places=2, default=0.0, max_digits=12)),
                ('items_purchased', models.PositiveIntegerField(default=0)),
                ('average_order_value', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('sessions', models.PositiveIntegerField(default=0)),
                ('page_views', models.PositiveIntegerField(default=0)),
                ('time_spent', models.PositiveIntegerField(default=0)),
                ('products_viewed', models.PositiveIntegerField(default=0)),
                ('cart_additions', models.PositiveIntegerField(default=0)),
                ('wishlist_additions', models.PositiveIntegerField(default=0)),
                ('searches_performed', models.PositiveIntegerField(default=0)),
                ('reviews_written', models.PositiveIntegerField(default=0)),
                ('first_visit', models.BooleanField(default=False)),
                ('returning_visit', models.BooleanField(default=False)),
                ('days_since_last_order', models.PositiveIntegerField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='analytics', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'customer_analytics',
                'ordering': ['-date'],
                'unique_together': {('user', 'date')},
            },
        ),
        migrations.CreateModel(
            name='ProductAnalytics',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('units_sold', models.PositiveIntegerField(default=0)),
                ('revenue_generated', models.DecimalField(decimal_places=2, default=0.0, max_digits=12)),
                ('orders_count', models.PositiveIntegerField(default=0)),
                ('views', models.PositiveIntegerField(default=0)),
                ('unique_views', models.PositiveIntegerField(default=0)),
                ('add_to_cart', models.PositiveIntegerField(default=0)),
                ('add_to_wishlist', models.PositiveIntegerField(default=0)),
                ('view_to_cart_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('cart_to_purchase_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('overall_conversion_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('stock_level', models.PositiveIntegerField(default=0)),
                ('stock_turnover', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('reviews_count', models.PositiveIntegerField(default=0)),
                ('average_rating', models.DecimalField(decimal_places=2, default=0.0, max_digits=3)),
                ('return_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='analytics', to='products.product')),
            ],
            options={
                'db_table': 'product_analytics',
                'ordering': ['-date'],
                'unique_together': {('product', 'date')},
            },
        ),
        migrations.CreateModel(
            name='UserActivityLog',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('session_id', models.CharField(blank=True, max_length=50)),
                ('action', models.CharField(choices=[('login', 'Login'), ('logout', 'Logout'), ('view_product', 'View Product'), ('add_to_cart', 'Add to Cart'), ('remove_from_cart', 'Remove from Cart'), ('add_to_wishlist', 'Add to Wishlist'), ('place_order', 'Place Order'), ('cancel_order', 'Cancel Order'), ('write_review', 'Write Review'), ('search', 'Search'), ('view_category', 'View Category'), ('update_profile', 'Update Profile')], max_length=50)),
                ('object_type', models.CharField(blank=True, max_length=50)),
                ('object_id', models.UUIDField(blank=True, null=True)),
                ('metadata', models.JSONField(blank=True, default=dict)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('referrer', models.URLField(blank=True)),
                ('country', models.CharField(blank=True, max_length=100)),
                ('city', models.CharField(blank=True, max_length=100)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='activity_logs', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'user_activity_logs',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['user', 'action'], name='user_activi_user_id_aa2c37_idx'), models.Index(fields=['session_id'], name='user_activi_session_977c5e_idx'), models.Index(fields=['created_at'], name='user_activi_created_d4cab2_idx')],
            },
        ),
        migrations.CreateModel(
            name='VendorAnalytics',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('total_sales', models.DecimalField(decimal_places=2, default=0.0, max_digits=12)),
                ('total_orders', models.PositiveIntegerField(default=0)),
                ('items_sold', models.PositiveIntegerField(default=0)),
                ('average_order_value', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('total_products', models.PositiveIntegerField(default=0)),
                ('active_products', models.PositiveIntegerField(default=0)),
                ('out_of_stock_products', models.PositiveIntegerField(default=0)),
                ('products_added', models.PositiveIntegerField(default=0)),
                ('unique_customers', models.PositiveIntegerField(default=0)),
                ('new_customers', models.PositiveIntegerField(default=0)),
                ('returning_customers', models.PositiveIntegerField(default=0)),
                ('order_fulfillment_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('average_shipping_time', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('return_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('customer_rating', models.DecimalField(decimal_places=2, default=0.0, max_digits=3)),
                ('commission_paid', models.DecimalField(decimal_places=2, default=0.0, max_digits=12)),
                ('net_earnings', models.DecimalField(decimal_places=2, default=0.0, max_digits=12)),
                ('refunded_amount', models.DecimalField(decimal_places=2, default=0.0, max_digits=12)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('vendor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='analytics', to='vendors.vendor')),
            ],
            options={
                'db_table': 'vendor_analytics',
                'ordering': ['-date'],
                'unique_together': {('vendor', 'date')},
            },
        ),
    ]
